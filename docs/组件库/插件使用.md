## ESLint & prettier é…ç½®ä»£ç é£æ ¼

1ã€ç¯å¢ƒåŒæ­¥

- ç¦ç”¨æ ¼å¼åŒ–æ’ä»¶ prettier format on saveï¼Œå¹¶å…³é—­ä¿å­˜è‡ªåŠ¨æ ¼å¼åŒ–
- å®‰è£… ESlint æ’ä»¶ ï¼Œå¹¶é…ç½®ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤

```js
// Vscodeä¸­ settings.json é…ç½®
"editor.codeActionsOnSave": {
    "source.fixAll": true
},
// å…³é—­ä¿å­˜è‡ªåŠ¨åŒ–
"editor.formatOnSave": false,
```

2ã€é…ç½®æ–‡ä»¶ .eslintrc.cjs

- prettier é£æ ¼é…ç½® [https://prettier.io](https://prettier.io/docs/en/options.html )

   å•å¼•å·

   ä¸ä½¿ç”¨åˆ†å·

   æ¯è¡Œå®½åº¦è‡³å¤š80å­—ç¬¦

   ä¸åŠ å¯¹è±¡|æ•°ç»„æœ€åé€—å·

   æ¢è¡Œç¬¦å·ä¸é™åˆ¶ï¼ˆwin mac ä¸ä¸€è‡´ï¼‰

- vueç»„ä»¶åç§°å¤šå•è¯ç»„æˆï¼ˆå¿½ç•¥index.vueï¼‰

- propsè§£æ„ï¼ˆå…³é—­ï¼‰

```js
module.exports = {
  rules: {
    'prettier/prettier': [
      'warn',
      {
        singleQuote: true, // å•å¼•å·
        semi: false, // æ— åˆ†å·
        printWidth: 80, // æ¯è¡Œå®½åº¦è‡³å¤š80å­—ç¬¦
        trailingComma: 'none', // ä¸åŠ å¯¹è±¡|æ•°ç»„æœ€åé€—å·
        endOfLine: 'auto' // æ¢è¡Œç¬¦å·ä¸é™åˆ¶ï¼ˆwin mac ä¸ä¸€è‡´ï¼‰
      }
    ],
    'vue/multi-word-component-names': [
      'warn',
      {
        ignores: ['index'] // vueç»„ä»¶åç§°å¤šå•è¯ç»„æˆï¼ˆå¿½ç•¥index.vueï¼‰
      }
    ],
    'vue/no-setup-props-destructure': ['off'], // å…³é—­ props è§£æ„çš„æ ¡éªŒ
    // ğŸ’¡ æ·»åŠ æœªå®šä¹‰å˜é‡é”™è¯¯æç¤ºï¼Œcreate-vue@3.6.3 å…³é—­ï¼Œè¿™é‡ŒåŠ ä¸Šæ˜¯ä¸ºäº†æ”¯æŒä¸‹ä¸€ä¸ªç« èŠ‚æ¼”ç¤ºã€‚
    'no-undef': 'error'
  }
}
```

## åŸºäº husky  çš„ä»£ç æ£€æŸ¥å·¥ä½œæµ

husky æ˜¯ä¸€ä¸ª git hooks å·¥å…·  ( gitçš„é’©å­å·¥å…·ï¼Œå¯ä»¥åœ¨ç‰¹å®šæ—¶æœºæ‰§è¡Œç‰¹å®šçš„å‘½ä»¤ )

**husky é…ç½®**

1. git åˆå§‹åŒ– git init

2. åˆå§‹åŒ– husky å·¥å…·é…ç½®  https://typicode.github.io/husky/

```sh
pnpm dlx husky-init && pnpm install
```

3. ä¿®æ”¹ .husky/pre-commit æ–‡ä»¶

```sh
pnpm lint
```

**é—®é¢˜**ï¼šé»˜è®¤è¿›è¡Œçš„æ˜¯å…¨é‡æ£€æŸ¥ï¼Œè€—æ—¶é—®é¢˜ï¼Œå†å²é—®é¢˜ã€‚

**lint-staged é…ç½®**

1. å®‰è£…

```sh
pnpm i lint-staged -D
```

2. é…ç½® `package.json`

```json
{
  // ... çœç•¥ ...
  "lint-staged": {
    "*.{js,ts,vue}": [
      "eslint --fix"
    ]
  }
}

{
  "scripts": {
    // ... çœç•¥ ...
    "lint-staged": "lint-staged"
  }
}
```

3. ä¿®æ”¹ .husky/pre-commit æ–‡ä»¶

```sh
pnpm lint-staged
```

## [js-cookie](https://github.com/js-cookie/js-cookie)

js-cookie æ˜¯ä¸€ä¸ªç®€å•çš„ï¼Œè½»é‡çº§çš„å¤„ç† cookies çš„ js APIï¼Œç”¨æ¥å¤„ç† cookie ç›¸å…³çš„æ’ä»¶

```sh
npm install js-cookie --save
```

**1ã€ä½¿ç”¨**

```js
import Cookie from 'js-cookie'
```

**2ã€åˆ›å»º**

```js
// åˆ›å»ºç®€å•çš„ cookie
Cookie.set('å±æ€§å', 'å€¼')

// åˆ›å»ºæœ‰æ•ˆæœŸä¸º 7 å¤©çš„ cookie
Cookie.set('å±æ€§å', 'å€¼', { expires: 7 })

// ä¸ºå½“å‰é¡µåˆ›å»ºæœ‰æ•ˆæœŸ 7 å¤©çš„ cookie
Cookie.set('å±æ€§å', 'å€¼', { expires: 7, path: '' })
```

**3ã€è¯»å–**

```js
Cookie.get('å±æ€§å')

Cookie.get('nothing') // => undefined

// è·å–æ‰€æœ‰ cookie
Cookie.get()
```

**4ã€åˆ é™¤**

```js
Cookie.remove('å±æ€§å')

// å¦‚æœå€¼è®¾ç½®äº†è·¯å¾„ï¼Œéœ€è¦æŒ‡å®šè·¯å¾„
Cookies.remove('å±æ€§å', { path: '' })

// æ³¨æ„ï¼šåˆ é™¤ä¸å­˜åœ¨çš„ cookie ä¸ä¼šæŠ¥é”™ä¹Ÿä¸ä¼šæœ‰è¿”å›
```

**5ã€å‘½åå†²çª**

å¦‚æœå­˜åœ¨å¯èƒ½å­˜åœ¨å‘½åå†²çªçš„ cookie åï¼Œ`noConflict()` æ–¹æ³•å°†ä½¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬éœ€è¦çš„å‘½åä¸”ä¿ç•™åŸæœ¬å†²çªçš„åå­—

```js
var Cookie2 = Cookies.noConflict()
Cookie2.set('name', 'value')
```

**6ã€JSON**

js-cookie æä¾›äº†ç®€æ˜“çš„ JSON ä½¿ç”¨ã€‚å½“æˆ‘ä»¬éœ€è¦åˆ›å»º cookie æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `Array æˆ– Object`ï¼Œè€Œä¸æ˜¯åªèƒ½ä½¿ç”¨`String`ã€‚å½“ä½¿ç”¨ `Array æˆ– Object` åï¼Œå¯ä»¥é€šè¿‡ `JSON.stringify()` æ¥è·å–åˆ°å¯¹åº”çš„å¯¹è±¡

```js
Cookie.set('name', { foo: 'bar' })

// å½“ä½¿ç”¨ Cookies.get() è¯»å– cookie æ—¶ï¼Œè·å–åˆ°çš„æ˜¯ String
Cookie.get('name') // => '{"foo":"bar"}'
Cookie.get() // => { name: '{"foo":"bar"}' }

// ä½¿ç”¨ getJSON()ï¼Œä¼šè‡ªåŠ¨å¯¹ String è¿›è¡Œ JSON.parse() æ“ä½œ
Cookie.getJSON('name') // => { foo: 'bar' }
Cookie.getJSON() // => { name: { foo: 'bar' } }
```

**7ã€set çš„å±æ€§**

- expires

  å®šä¹‰æœ‰æ•ˆæœŸï¼Œå¦‚æœä¼ å…¥ Numberï¼Œé‚£ä¹ˆå•ä½ä¸ºå¤©ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ª Date å¯¹è±¡ï¼Œè¡¨ç¤ºæœ‰æ•ˆæœŸè‡³ Date æŒ‡å®šæ—¶é—´

  é»˜è®¤æƒ…å†µä¸‹ cookie æœ‰æ•ˆæœŸæˆªæ­¢è‡³ç”¨æˆ·é€€å‡ºæµè§ˆå™¨

- path

  stringï¼Œè¡¨ç¤ºæ­¤ cookie å¯¹å“ªä¸ªåœ°å€å¯è§

  é»˜è®¤ä¸º "/"

- domain

  stringï¼Œè¡¨ç¤ºæ­¤ cookie å¯¹å“ªä¸ªåŸŸåå¯è§ã€‚è®¾ç½®å cookie ä¼šå¯¹æ‰€æœ‰å­åŸŸåå¯è§

  é»˜è®¤ä¸ºå¯¹åˆ›å»ºæ­¤ cookie çš„åŸŸåå’Œå­åŸŸåå¯è§

- secure

  true æˆ– falseï¼Œè¡¨ç¤º cookie ä¼ è¾“æ˜¯å¦ä»…æ”¯æŒ https

  é»˜è®¤ä¸ºä¸è¦æ±‚åè®®å¿…é¡»ä¸º https

## vue-count-to æ•°å­—æ»šåŠ¨

``` sh
npm install vue-count-to
```

``` vue
<count-to
  :start-val="0" // èµ·å§‹å€¼
  :end-val="228" // ç»ˆç‚¹å€¼
  :duration="1000" // åŠ¨ç”»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
/>

<script>
import CountTo from 'vue-count-to'
export default {
  components: {
    CountTo
  }
}
</script>
```

## file-saver æ–‡ä»¶å¯¼å‡º

```sh
npm install file-saver --save
```

```js
import FileSaver from 'file-saver'

FileSaver.saveAs(å‚æ•°ä¸€, å‚æ•°äºŒ, å‚æ•°ä¸‰)
* å‚æ•°1ï¼šBlobã€Fileã€Urlï¼Œå¯ä»¥æ˜¯äºŒè¿›åˆ¶æµã€æ–‡ä»¶ã€URLçš„åœ°å€
* å‚æ•°2ï¼šè®¾ç½®å¯¼å‡ºçš„æ–‡ä»¶å
* å‚æ•°3ï¼šå¯é€‰çš„ object å¯¹è±¡
```

## [nprogress](https://ricostacruz.com/nprogress/) åŠ è½½è¿›åº¦æ¡

```sh
npm install nprogress --save
# æˆ–è€…
yarn add nprogress
```

å¯ä½¿ç”¨åœ¨ axios è¯·æ±‚æˆ–è€…è·¯ç”±å®ˆå«

**1ã€ä½¿ç”¨**

```js
import NProgress from 'nprogress' // å¼•å…¥æ’ä»¶
import 'nprogress/nprogress.css' // å¼•å…¥ nprogress æ ·å¼

// æ˜¾ç¤ºè¿›åº¦æ¡
NProgress.start()

// ç»“æŸè¿›åº¦æ¡
NProgress.done()

// å¼ºåˆ¶å®Œæˆï¼šä½¿è¿›åº¦æ¡æ»¡æ ¼ï¼Œå³ä½¿æœªæ˜¾ç¤ºè¿›åº¦æ¡ä¹Ÿå°†æ˜¾ç¤ºè¿›åº¦æ¡
NProgress.done(true)

// æ§åˆ¶è¿›åº¦ï¼Œn çš„å–å€¼èŒƒå›´ä¸º 0-1
NProgress.set(n)

// é€’å¢è¿›åº¦æ¡ï¼šå¦‚æœè¦å¢åŠ ç‰¹å®šå€¼ï¼Œå¯ä»¥å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’
NProgress.inc()   
NProgress.inc(0.2)  // è¿™å°†è·å–å½“å‰çŠ¶æ€å€¼å¹¶æ·»åŠ 0.2ç›´åˆ°çŠ¶æ€ä¸º0.994   

// è·å–çŠ¶æ€å€¼
NProgress.status


å¯ä»¥æ›´æ”¹è®¾ç½®æ ·å¼
#nprogress .bar {
background: red !important; // â¾ƒå®šä¹‰é¢œâ¾Š
}
```

2ã€**å‚æ•°é…ç½®**

**showSpinner**

æ˜¯å¦æ˜¾ç¤ºç¯å½¢è¿›åº¦åŠ¨ç”»ï¼Œé»˜è®¤ï¼štrue

```js
NProgress.configure({ showSpinner: false })
```

**minimum - æœ€å°å€¼**

è®¾ç½®å¼€å§‹æ—¶æœ€ä½ç™¾åˆ†æ¯”ï¼Œé»˜è®¤ï¼š0.08

```js
NProgress.configure({ minimum: 0.1 })
```

**template - æ¨¡æ¿**

æ”¹å˜è¿›åº¦æ¡çš„HTMLç»“æ„ï¼Œä¸ºäº†ä¿è¯è¿›åº¦æ¡æ­£å¸¸å·¥ä½œï¼Œéœ€è¦ä¸€ä¸ªåŒ…å« `role='bar'`  å±æ€§çš„å…ƒç´ 

```js
NProgress.configure({
  template: "<div class='....'>...</div>"
})
```

**ease å’Œ speed - CSSåŠ¨ç”»å±æ€§**

easeï¼šå¯ä¼ é€’ CSS3 ç¼“å†²åŠ¨ç”»å­—ç¬¦ä¸²ï¼Œå¦‚ easeã€linearã€ease-inã€ease-outã€ease-in-outã€cubic-bezier

speedï¼šä¸ºåŠ¨ç”»é€Ÿåº¦ï¼Œå•ä½ï¼šmsï¼Œé»˜è®¤ï¼š200

```js
NProgress.configure({ ease: 'ease', speed: 500 })
```

**trickle - è‡ªåŠ¨é€’å¢**

é€šè¿‡å°†æ­¤è®¾ç½®ä¸ºæ¥å…³é—­è‡ªåŠ¨é€’å¢è¡Œä¸º `false`ï¼Œæ˜¯å¦æ˜¾ç¤ºè¿›åº¦æ¡ï¼Œé»˜è®¤ï¼štrue

```js
NProgress.configure({ trickle: false })
```

**trickleSpeed å’Œ trickleRate - è¿›åº¦æ¡å¢åŠ å¹…åº¦å’Œé¢‘ç‡**

è®¾ç½®æ¯æ¬¡è¿›åº¦æ¡æ­¥è¿›é€Ÿåº¦ï¼Œå•ä½åˆ†åˆ«æ˜¯ç™¾åˆ†æ¯”ã€æ¯«ç§’

```js
NProgress.configure({ trickleRate: 0.02, trickleSpeed: 800 })
```

**parent - çˆ¶çº§å®¹å™¨**

æŒ‡å®šæ”¹å˜çš„çˆ¶å®¹å™¨ï¼Œé»˜è®¤body

```js
NProgress.configure({ parent: '#container' })
```

## å¯Œæ–‡æœ¬ç¼–è¾‘å™¨

```bash

```

## è…¾è®¯äº‘

```sh
npm install cos-js-sdk-v5 
yarn add cos-js-sdk-v5
```

**1ã€å›¾ç‰‡å¤„ç†**

ğŸ“ƒ [å‰æœŸå‡†å¤‡æ•™ç¨‹](https://blog.csdn.net/weixin_49592652/article/details/116790357)

æ³¨å†Œ[è…¾è®¯äº‘](https://cloud.tencent.com)è´¦å· â¡ï¸ åˆ›å»ºå­˜å‚¨æ¡¶ï¼ˆæ§åˆ¶å° Â» äº‘äº§å“ Â» å¯¹è±¡å­˜å‚¨ Â» å­˜å‚¨æ¡¶åˆ—è¡¨ï¼‰â¡ï¸ è·¨åŸŸè®¿é—® CORS è®¾ç½®ï¼ˆé…ç½®ç®¡ç† Â» å®‰å…¨ç®¡ç†ï¼‰ â¡ï¸ API å¯†é’¥ç®¡ç†ï¼ˆ[è·å–åº”ç”¨æ ‡è¯†](https://console.cloud.tencent.com/cam/capi)ï¼‰

```js
import COS from 'cos-js-sdk-v5'

// cos å¯¹è±¡åˆå§‹åŒ–
const cos = new COS({
  SecretId: 'åº”ç”¨æ ‡è¯†',
  SecretKey: 'åº”ç”¨ç§˜é’¥'
})

// ä¸Šä¼ æ–¹æ³•
cos.putObject({
  Bucket: 'å­˜å‚¨æ¡¶åç§°',
  Region: 'å­˜å‚¨æ¡¶åœ°åŸŸåç§°',
  Key: 'æ–‡ä»¶åç§°',
  StorageClass: 'STANDARD', // å›ºå®šå€¼
  Body: 'æ–‡ä»¶å¯¹è±¡'
}, (err, data) => {
  if (data.statusCode === 200 && data.Location) {
    // æ‹¿åˆ°äº†è…¾è®¯äº‘è¿”å›çš„åœ°å€
    // é€šè¿‡inputè‡ªå®šä¹‰äº‹ä»¶å°†åœ°å€ä¼ å‡ºå»
    this.$emit('input', 'http://' + data.Location) // å°†åœ°å€æ‹¼æ¥è¿”å›
  } else {
    this.$message.error(err.Message) // ä¸Šä¼ å¤±è´¥æç¤ºæ¶ˆæ¯
  }
})
```

## aplayer æ’­æ”¾å™¨

## [vue-aplayer](https://github.com/SevenOutman/vue-aplayer/blob/develop/docs/README.zh-CN.md)
